"use strict";(self.webpackChunksales_dashboard=self.webpackChunksales_dashboard||[]).push([[736],{1736:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var a=t(5043),s=t(2923),d=t(6584),l=(t(7902),t(2702)),n=t(108),i=t(163),o=t(4240),c=t(7869),x=t(6150),m=t(2291),h=t(7734),g=t(2185),u=t(6026),y=t(8643),j=t(5748),k=t(168),b=t(579);const p=()=>{var e,r;const t=(0,l.y)(),{salesData:p}=(0,s.Ez)(),{sharedDashboards:f}=(0,d.Ex)(),[v,N]=(0,a.useState)({uptime:0,memoryUsage:0,loadTime:0,errorCount:0});(0,a.useEffect)((()=>{const e=()=>{N({uptime:Math.floor((Date.now()-performance.timing.navigationStart)/1e3/60),memoryUsage:navigator.deviceMemory?Math.random()*navigator.deviceMemory*.5:4*Math.random(),loadTime:performance.timing.loadEventEnd-performance.timing.navigationStart,errorCount:Math.floor(3*Math.random())})};e();const r=setInterval(e,3e4);return()=>clearInterval(r)}),[]);const w=(0,a.useMemo)((()=>{if(!p||0===p.length)return null;const e=p.length,r=new Set(p.map((e=>e.chain))).size,t=new Set(p.map((e=>e.product_name))).size,a=p.reduce(((e,r)=>{const t=new Date(r.receipt_date);return(!e.start||t<e.start)&&(e.start=t),(!e.end||t>e.end)&&(e.end=t),e}),{start:null,end:null}),s=p.reduce(((e,r)=>{const t=new Date(r.receipt_date).toISOString().slice(0,7);return e[t]=(e[t]||0)+1,e}),{});return{totalRecords:e,uniqueRetailers:r,uniqueProducts:t,dateRange:a,monthlyChart:Object.entries(s).sort(((e,r)=>{let[t]=e,[a]=r;return t.localeCompare(a)})).slice(-12).map((e=>{let[r,t]=e;return{month:new Date(r+"-01").toLocaleDateString("en-US",{month:"short",year:"2-digit"}),records:t}})),averageRecordsPerDay:Math.round(e/((a.end-a.start)/864e5)||1)}}),[p]),S=(0,a.useMemo)((()=>{if(!f||0===f.length)return null;const e=f.filter((e=>new Date(e.expiresAt)>new Date)).length,r=f.length-e,t=f.reduce(((e,r)=>{const t=r.config||{},a=t.hideValues&&t.hideRetailers?"Anonymous":t.hideRetailers?"Hidden Retailers":t.hideValues?"Hidden Values":"Open";return e[a]=(e[a]||0)+1,e}),{}),a=Object.entries(t).map((e=>{let[r,t]=e;return{name:r,value:t}}));return{totalShares:f.length,activeShares:e,expiredShares:r,sharingTypeChart:a}}),[f]),L=(0,a.useMemo)((()=>{const e=[],r=Date.now();for(let t=23;t>=0;t--){const a=new Date(r-60*t*60*1e3);e.push({time:a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),responseTime:200*Math.random()+50,requests:Math.floor(100*Math.random())+10,errors:Math.floor(5*Math.random())})}return e}),[]);if(!w)return(0,b.jsx)("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500",children:(0,b.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,b.jsx)("h2",{className:"mt-2 text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Admin Dashboard"}),(0,b.jsx)("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:"No data available for monitoring"})]})});const M=e=>{let{active:r,payload:t,label:a}=e;return r&&t&&t.length?(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 shadow-md rounded-md border border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a}),t.map(((e,r)=>(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,b.jsx)("span",{className:"inline-block w-3 h-3 mr-1 rounded-full",style:{backgroundColor:e.color}}),e.name,": ","number"===typeof e.value?e.value.toLocaleString():e.value]},r)))]}):null};return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"System Administration"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-900/30 p-4 rounded-lg border border-green-200 dark:border-green-800/30",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-8 w-8 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"System Status"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"Online"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Uptime: ",v.uptime,"m"]})]})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-900/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800/30",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-8 w-8 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Performance"}),(0,b.jsxs)("p",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:[v.loadTime,"ms"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Load time"})]})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-900/30 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800/30",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Memory Usage"}),(0,b.jsxs)("p",{className:"text-lg font-semibold text-yellow-600 dark:text-yellow-400",children:[v.memoryUsage.toFixed(1),"GB"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Current usage"})]})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-900/30 p-4 rounded-lg border border-red-200 dark:border-red-800/30",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-8 w-8 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L5.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Errors"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:v.errorCount}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last 24h"})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Data Overview"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Records"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:w.totalRecords.toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Unique Retailers"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:w.uniqueRetailers})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Unique Products"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:w.uniqueProducts})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Avg Records/Day"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:w.averageRecordsPerDay})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Date Range"}),(0,b.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white text-xs",children:[null===(e=w.dateRange.start)||void 0===e?void 0:e.toLocaleDateString()," - ",null===(r=w.dateRange.end)||void 0===r?void 0:r.toLocaleDateString()]})]})]})]}),S&&(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Sharing Activity"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Shares"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:S.totalShares})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Active Shares"}),(0,b.jsx)("span",{className:"font-semibold text-green-600 dark:text-green-400",children:S.activeShares})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Expired Shares"}),(0,b.jsx)("span",{className:"font-semibold text-red-600 dark:text-red-400",children:S.expiredShares})]})]}),S.sharingTypeChart.length>0&&(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sharing Types"}),(0,b.jsx)(n.u,{width:"100%",height:150,children:(0,b.jsxs)(i.r,{children:[(0,b.jsx)(o.F,{data:S.sharingTypeChart,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,innerRadius:30,children:S.sharingTypeChart.map(((e,r)=>(0,b.jsx)(c.f,{fill:t.colorPalette[r%t.colorPalette.length]},`cell-${r}`)))}),(0,b.jsx)(x.m,{content:(0,b.jsx)(M,{})})]})})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Monthly Data Volume"}),(0,b.jsx)(n.u,{width:"100%",height:250,children:(0,b.jsxs)(m.E,{data:w.monthlyChart,children:[(0,b.jsx)(h.d,{strokeDasharray:"3 3",stroke:t.gridColor}),(0,b.jsx)(g.W,{dataKey:"month",tick:{fontSize:12,fill:t.textSecondary},tickLine:!1,axisLine:{stroke:t.axisColor}}),(0,b.jsx)(u.h,{tick:{fontSize:12,fill:t.textSecondary},tickLine:!1,axisLine:{stroke:t.axisColor}}),(0,b.jsx)(x.m,{content:(0,b.jsx)(M,{})}),(0,b.jsx)(y.y,{dataKey:"records",fill:t.primary,radius:[4,4,0,0]})]})})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Performance (24h)"}),(0,b.jsx)(n.u,{width:"100%",height:250,children:(0,b.jsxs)(j.b,{data:L,children:[(0,b.jsx)(h.d,{strokeDasharray:"3 3",stroke:t.gridColor}),(0,b.jsx)(g.W,{dataKey:"time",tick:{fontSize:12,fill:t.textSecondary},tickLine:!1,axisLine:{stroke:t.axisColor},interval:5}),(0,b.jsx)(u.h,{tick:{fontSize:12,fill:t.textSecondary},tickLine:!1,axisLine:{stroke:t.axisColor}}),(0,b.jsx)(x.m,{content:(0,b.jsx)(M,{})}),(0,b.jsx)(k.N,{type:"monotone",dataKey:"responseTime",stroke:t.primary,strokeWidth:2,dot:!1,name:"Response Time (ms)"}),(0,b.jsx)(k.N,{type:"monotone",dataKey:"requests",stroke:t.secondary,strokeWidth:2,dot:!1,name:"Requests"})]})})]})]})]})})}}}]);
//# sourceMappingURL=736.13c1ab7a.chunk.js.map